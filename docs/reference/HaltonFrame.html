<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Halton frames discretize an areal resource into a spatially ordered grid,
where samples of consecutive frame points are spatially balanced. To generate Halton Frames,
spbal requires a study region shapefile and the region’s bounding box."><title>Create a Halton Frame. — HaltonFrame • spbal</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a Halton Frame. — HaltonFrame"><meta property="og:description" content="Halton frames discretize an areal resource into a spatially ordered grid,
where samples of consecutive frame points are spatially balanced. To generate Halton Frames,
spbal requires a study region shapefile and the region’s bounding box."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">spbal</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/spbal.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create a Halton Frame.</h1>
      
      <div class="d-none name"><code>HaltonFrame.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Halton frames discretize an areal resource into a spatially ordered grid,
where samples of consecutive frame points are spatially balanced. To generate Halton Frames,
spbal requires a study region <code>shapefile</code> and the region’s <code>bounding box</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">HaltonFrame</span><span class="op">(</span></span>
<span>  N <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  J <span class="op">=</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  bases <span class="op">=</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  boundingbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shapefile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  panels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  panel_overlap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seeds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stratum <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>N</dt>
<dd><p>The number of points in the frame to generate.</p></dd>


<dt>J</dt>
<dd><p>The number of grid cells. A list of 2 values. The default value is c(3, 2).</p></dd>


<dt>bases</dt>
<dd><p>Co-prime base for the Halton Sequence. The default value is c(2, 3).</p></dd>


<dt>boundingbox</dt>
<dd><p>Bounding box around the study area. If a bounding box is not supplied
then spbal will generate a bounding box for the shapefile.</p></dd>


<dt>shapefile</dt>
<dd><p>A sf object. If the shapefile parameter is NULL then function
HaltonFrameBase is called directly.</p></dd>


<dt>panels</dt>
<dd><p>A list of integers that define the size of each panel in a
non-overlapping panels design. The length of the list determines the number of
panels required. The sum of the integers in the panels parameter will determine
the total number of samples selected, n. The default value for panels is NULL,
this indicates that a non-overlapping panel design is not wanted.</p></dd>


<dt>panel_overlap</dt>
<dd><p>A list of integers that define the overlap into the previous
panel. Is only used when the panels parameter is not NULL. The default value for
panel_overlap is NULL. The length of panel_overlap must be equal to the length
of panels. The first value is always forced to zero as the first panel never
overlaps any region.</p></dd>


<dt>seeds</dt>
<dd><p>A vector of 2 seeds, u1 and u2. If not specified, the default is NULL.</p></dd>


<dt>stratum</dt>
<dd><p>Name of column in shapefile that makes up the strata.</p></dd>


<dt>verbose</dt>
<dd><p>Boolean if you want to see any output printed to screen. Helpful if taking a
long time. Default is FALSE i.e. no informational messages are displayed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns a list containing five variables:</p>


<ul><li><p><code>J</code> The number of grid cells. A list of 2 values that were used to generate this
Halton grid and frame.</p></li>
<li><p><code>hg.pts.shp</code> Halton grid over the bounding box and study area.</p></li>
<li><p><code>hf.pts.shp</code> Halton frame, the sample points within the study area.</p></li>
<li><p><code>bb</code> The bounding box.</p></li>
<li><p><code>seeds</code> The u1 and u2 seeds used to generate the sample.</p></li>
</ul><p>The sample points in <code>hf.pts.shp</code> are returned in the form of a simple feature
collection of POINT objects. As well as having the features from the original <code>shapefile</code>,
the following new attributes have been added:</p>


<ul><li><p><code>spbalSeqID</code>: A unique identifier for every sample point.</p></li>
<li><p><code>ID</code>: A unique identifier, the Halton frame point order.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Phil Davies.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># we discretize the Gates study region into a coarse grid using</span></span></span>
<span class="r-in"><span><span class="co"># B = 2^{J_1} * 3^{J_2}= (2^3) * (3^2) (9 by 8 grid) ------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use the North Carolina shapefile supplied in the sf R package.</span></span></span>
<span class="r-in"><span><span class="va">shp_file</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shape/nc.shp"</span>, package<span class="op">=</span><span class="st">"sf"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reading layer `nc' from data source </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `/home/phil/R/x86_64-pc-linux-gnu-library/4.3/sf/shape/nc.shp' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   using driver `ESRI Shapefile'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 100 features and 14 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: MULTIPOLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  NAD27</span>
<span class="r-in"><span><span class="va">shp_gates</span> <span class="op">&lt;-</span> <span class="va">shp_file</span><span class="op">[</span><span class="va">shp_file</span><span class="op">$</span><span class="va">NAME</span> <span class="op">==</span> <span class="st">"Gates"</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Vertically aligned master sample bounding box.</span></span></span>
<span class="r-in"><span><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">spbal</span><span class="fu">::</span><span class="fu"><a href="BoundingBox.html">BoundingBox</a></span><span class="op">(</span>shapefile <span class="op">=</span> <span class="va">shp_gates</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">511</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result6</span> <span class="op">&lt;-</span> <span class="fu">spbal</span><span class="fu">::</span><span class="fu">HaltonFrame</span><span class="op">(</span>shapefile <span class="op">=</span> <span class="va">shp_gates</span>,</span></span>
<span class="r-in"><span>                              J <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              boundingbox <span class="op">=</span> <span class="va">bb</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># get the frame points.</span></span></span>
<span class="r-in"><span><span class="va">Frame</span> <span class="op">&lt;-</span> <span class="va">result6</span><span class="op">$</span><span class="va">hf.pts.shp</span></span></span>
<span class="r-in"><span><span class="va">Frame</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 52 features and 2 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -76.92284 ymin: 36.309 xmax: -76.49118 ymax: 36.54077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  NAD27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ID spbalSeqID                          x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1          1  POINT (-76.67618 36.5118)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2          2 POINT (-76.79951 36.36694)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3          3 POINT (-76.55285 36.45386)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4          4 POINT (-76.86118 36.54077)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6          5 POINT (-76.73784 36.39591)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9          6 POINT (-76.67618 36.42488)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10          7  POINT (-76.79951 36.5118)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11          8 POINT (-76.55285 36.36694)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12          9 POINT (-76.86118 36.45386)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13         10 POINT (-76.61451 36.54077)</span>
<span class="r-in"><span><span class="co"># get the grid points.</span></span></span>
<span class="r-in"><span><span class="va">Grid</span> <span class="op">&lt;-</span> <span class="va">result6</span><span class="op">$</span><span class="va">hg.pts.shp</span></span></span>
<span class="r-in"><span><span class="va">Grid</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 72 features and 1 field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -76.92284 ymin: 36.309 xmax: -76.49118 ymax: 36.54077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  NAD27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             x ID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   POINT (-76.67618 36.5118)  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  POINT (-76.79951 36.36694)  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  POINT (-76.55285 36.45386)  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  POINT (-76.86118 36.54077)  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    POINT (-76.61451 36.309)  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  POINT (-76.73784 36.39591)  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  POINT (-76.49118 36.48283)  7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  POINT (-76.92284 36.33797)  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  POINT (-76.67618 36.42488)  9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  POINT (-76.79951 36.5118) 10</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Phil Davies, Blair Robertson, Paul van Dam-Bates, Oliver Gansell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

