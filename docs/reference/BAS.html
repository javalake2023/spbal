<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="BAS draws spatially balanced samples from areal resources. To draw BAS samples,
spbal requires a study region shapefile and the region’s bounding box. An initial sample size
is also needed, which can be easily increased or decreased within spbal for master sampling
applications"><title>Balanced Acceptance Sampling (BAS). — BAS • spbal</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Balanced Acceptance Sampling (BAS). — BAS"><meta property="og:description" content="BAS draws spatially balanced samples from areal resources. To draw BAS samples,
spbal requires a study region shapefile and the region’s bounding box. An initial sample size
is also needed, which can be easily increased or decreased within spbal for master sampling
applications"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">spbal</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/spbal.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Balanced Acceptance Sampling (BAS).</h1>
      
      <div class="d-none name"><code>BAS.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>BAS draws spatially balanced samples from areal resources. To draw BAS samples,
spbal requires a study region shapefile and the region’s bounding box. An initial sample size
is also needed, which can be easily increased or decreased within spbal for master sampling
applications</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">BAS</span><span class="op">(</span></span>
<span>  shapefile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  boundingbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minRadius <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  panels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  panel_overlap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stratum <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seeds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>shapefile</dt>
<dd><p>Shape file as a polygon (sp or sf) to select sites for.</p></dd>


<dt>n</dt>
<dd><p>Number of sites to select. If using stratification it is a named vector containing
sample sizes of each group.</p></dd>


<dt>boundingbox</dt>
<dd><p>Bounding box around the study area. If a bounding box is not supplied
then spbal will generate a bounding box for the shapefile.</p></dd>


<dt>minRadius</dt>
<dd><p>If specified, the minimum distance, in meters, allowed between sample
points. This is applied to the $sample points. Points that meet the minRadius criteria
are retuned in the minRadius output variable.</p></dd>


<dt>panels</dt>
<dd><p>A list of integers that define the size of each panel in a
non-overlapping panels design. The length of the list determines the number of
panels required. The sum of the integers in the panels parameter will determine
the total number of samples selected, n. The default value for panels is NULL,
this indicates that a non-overlapping panel design is not wanted.</p></dd>


<dt>panel_overlap</dt>
<dd><p>A list of integers that define the overlap into the previous
panel. Is only used when the panels parameter is not NULL. The default value for
panel_overlap is NULL. The length of panel_overlap must be equal to the length
of panels. The first value is always forced to zero as the first panel never
overlaps any region.</p></dd>


<dt>stratum</dt>
<dd><p>The name of a column in the data.frame attached to shapefile that defines
the strata of interest.</p></dd>


<dt>seeds</dt>
<dd><p>A vector of 2 seeds, u1 and u2. If not specified, the default is NULL and will
be defined randomly using function <code>generateUVector</code>.</p></dd>


<dt>verbose</dt>
<dd><p>Boolean if you want to see any output printed to screen. Helpful if taking a
long time. Default is FALSE i.e. no informational messages are displayed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing three variables, <code>$sample</code> containing locations in the BAS sample,
in BAS order, <code>$seeds</code>, the u1 and u2 seeds used to generate the sample and <code>$minRadius</code></p>


<p>containing points from $sample that meet the minRadius criteria. If the minRadius
parameter is NULL then the $minRadius returned will also be NULL.</p>


<p>The sample points are returned in the form of a simple feature collection of POINT objects.
They have the following attributes:</p><ul><li><p><code>SiteID</code> A unique identifier for every sample point. This
encodes the BAS order.</p></li>
<li><p><code>spbalSeqID</code> A unique identifier for every sample point. This
encodes the BAS sample order.</p></li>
<li><p><code>geometry</code> The XY co-ordinates of the sample point in the CRS of the original
shapefile.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>This function was first written by Paul van Dam-Bates for the
package BASMasterSample and later simplified by Phil Davies.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Equal probability BAS sample ----------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use the North Carolina shapefile supplied in the sf R package.</span></span></span>
<span class="r-in"><span><span class="va">shp_file</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shape/nc.shp"</span>, package<span class="op">=</span><span class="st">"sf"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reading layer `nc' from data source </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `/home/phil/R/x86_64-pc-linux-gnu-library/4.3/sf/shape/nc.shp' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   using driver `ESRI Shapefile'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 100 features and 14 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: MULTIPOLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  NAD27</span>
<span class="r-in"><span><span class="va">shp_gates</span> <span class="op">&lt;-</span> <span class="va">shp_file</span><span class="op">[</span><span class="va">shp_file</span><span class="op">$</span><span class="va">NAME</span> <span class="op">==</span> <span class="st">"Gates"</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Vertically aligned master sample bounding box.</span></span></span>
<span class="r-in"><span><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">spbal</span><span class="fu">::</span><span class="fu"><a href="BoundingBox.html">BoundingBox</a></span><span class="op">(</span>shapefile <span class="op">=</span> <span class="va">shp_gates</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">511</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n_samples</span> <span class="op">&lt;-</span> <span class="fl">20</span></span></span>
<span class="r-in"><span><span class="co"># Equal probability BAS sample.</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">spbal</span><span class="fu">::</span><span class="fu">BAS</span><span class="op">(</span>shapefile <span class="op">=</span> <span class="va">shp_gates</span>,</span></span>
<span class="r-in"><span>                     n <span class="op">=</span> <span class="va">n_samples</span>,</span></span>
<span class="r-in"><span>                     boundingbox <span class="op">=</span> <span class="va">bb</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">BAS20</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">sample</span></span></span>
<span class="r-in"><span><span class="co"># display first three sample points.</span></span></span>
<span class="r-in"><span><span class="va">BAS20</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 2 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -76.88599 ymin: 36.35425 xmax: -76.63932 ymax: 36.4991</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  NAD27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SiteID spbalSeqID                   geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1          1 POINT (-76.88599 36.41219)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      2          2  POINT (-76.63932 36.4991)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      3          3 POINT (-76.76266 36.35425)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Increase the BAS sample size ----------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">n_samples</span> <span class="op">&lt;-</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu">spbal</span><span class="fu">::</span><span class="fu">BAS</span><span class="op">(</span>shapefile <span class="op">=</span> <span class="va">shp_gates</span>,</span></span>
<span class="r-in"><span>                      n <span class="op">=</span> <span class="va">n_samples</span>,</span></span>
<span class="r-in"><span>                      boundingbox <span class="op">=</span> <span class="va">bb</span>,</span></span>
<span class="r-in"><span>                      seeds <span class="op">=</span> <span class="va">result</span><span class="op">$</span><span class="va">seed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">BAS50</span> <span class="op">&lt;-</span> <span class="va">result2</span><span class="op">$</span><span class="va">sample</span></span></span>
<span class="r-in"><span><span class="va">BAS50</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 2 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -76.88599 ymin: 36.35425 xmax: -76.63932 ymax: 36.4991</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  NAD27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SiteID spbalSeqID                   geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1          1 POINT (-76.88599 36.41219)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      2          2  POINT (-76.63932 36.4991)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      3          3 POINT (-76.76266 36.35425)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check, first n_samples points in both samples must be the same.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">BAS20</span><span class="op">$</span><span class="va">geometry</span>, <span class="va">BAS50</span><span class="op">$</span><span class="va">geometry</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Phil Davies, Blair Robertson, Paul van Dam-Bates, Oliver Gansell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

